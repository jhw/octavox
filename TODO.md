### short

- more detailed svdrum mixer
- check vitling patterns

### medium

- blacklist
- pass config from cli and validate there
- ability to specify track key when copying
- sampler to take pitch info
- cli blend() action

### long

### thoughts

- pattern temperature?
  - is over- optimising
- don't like naming of `tracks=SVPatch()` in model
- breaks for concat action?
- add back slicetemp? 
  - feels like an over- optimisation, and too much passing stuff around
- add sample to add current patch to pool?
  - probably overkill
- pass array of roots to chain?
  - feels like this is extra complexity for little benefit
- better forcing of echo wet zero option?
  - no is over- optimised
- simplify vitling wrappers?
  - problem is the need to pass sample keys, different for each track
- cli chain sample overloading?
  - I don't think this is necessary now since the number of stored samples has been reduced, there are is less scope for random samples being introduced into mutations
  - although still some room, given the degrees of freedom of the pattern model
- watcher to check code is working?
  - seems like overkill
- tracks to iterate over slices and lfos not config items?
  - dunno
- notes should be list not dict?
  - dunno
- runtine checkes for mod/ctrl refs in lfo config?
   - probably overkill
- global mutes?
  - doesn't make much sense
  - can mute track in UI when experimenting
  - can ignore track when using OT as you have all tracks independently
- abstract sample filtering into patch? 
  - not possible because patch needs rendering before filterig
- track- level render block?
  - mutes, nbeats, nbreaks?
  - not sure it makes sense
- sunvox stops?
- randomiser filename to include pool name?
  - feels like over- optimisation
- make (bank, wavfile) a tuple on creation?
  - but then u can't save to JSON
  - at least not without custom encode/decode
- sample similarity clustering?

### done

- try forcing more zero echo wet stuff
- rename patterns.yaml as fragments.yaml?
- svdrum kick volume factors
- refactor sequence render variables
- move code that converts notes to grid into SVPatch
- clean up raw wavfile names 
- rename patterns as fragments
- add SnareDrum for completeness
- svdrum trig needs to switch module to drum
  - single drum module?
  - replace sampler with Drum?
- add svdrum-curated to list of pools
- complete svdrum config
- modify sequence rendering if bank is defined as svdrum 
- validate sequence modules and keys
- validate lfo modules
- abstract single config structure into yaml file
- remove snaredrum as is crap
- add drum modules
- runtime module naming checks
- should be able to rename KKSampler as KickSampler
- check what happens if you change a module key from kk
  - do you need a runtime check here?
- consider moving filter_samples() into SVTrack
- consider renaming patch as tracks
- replace passing of nbeats to init_pattern/blank with property of tracks class
- move patch rendering back into model
- eliminate double call to render
- tracks.render() to return dict so you maintain key information
- load rv/sampler modules dynamically
- move module instantiation and sample gathering into project
  - you might have to walk a structure iteratively in order to find samples
- new concat method taking array
- remove qd
- pattern.randomise classmethod
- add new cli pool method which sets pool
- remove pool from params
- allow param and pool to take blank second arg and work as getters
- fix chain 1000 + mutate 1000
- not convinced chain is generating the right output
- move int parse above array
- handle octachain array conversion inline
- refactor octachain so takes an array of roots 
  - ignores nbeats
  - shouldn't run any mutations itself
- add AxB array support to cli
- fix copy fdest lookup 
  - should lookup prior to creation
- rename chain as octachain
- remove mutate/ chain hack
- copy to use lookups
- (replace clone with add?)
- add pool to add pool to current pool
- convert pool to use set
- pool clone fails
- clone pool to clone existing pool 
- init pool to create empty pool
- `chain 1000` followed by `mutate 1000` returns an error
- check mutate and chain take negative numbers and use moduko
- remove array support 
- remove list prefix from params and pools
- show pool sizes
- @wrap_action is not wrapping errors with (eg) bad density values
- remove env value
- setparam code parsing param updates is a complete mess
- refactor cli validators
  - remove optimistic parse
  - iterate over config with matches_xxx, parse_xxx helpers
- density
- why does it fail with missing sample refs?
- consider ordering rendered tracks
- try eval for validation
- add array support
- remove min handling
- combine parsing of line with parameter validation
- consider adding back cli chain sample munging
- chain mutes are not working
- project -> decorator to attach patch, blank items
- clone error when mutating a loaded file
- shuffle_slice break track idempotency
- should tracks rendering really return n, tracks?
- restrict samples to those used by a particular chain
- avoid duplicating keys
- revert to using keys
- some of the sample offsetting looks very strange (and busy)
- consider not unpacking params at machine level
  - or doing it in a decorator
- chaining fails
- mutation fails

```
 File "/Users/jhw/work/octavox/octavox/projects/picobeats/model.py", line 98, in <listcomp>
    tokens=[int(tok)
ValueError: invalid literal for int() with base 10: ''
```

- mutes arg
- check dual/overloaded calls to constructors
- mutate tracks
- remove cli list support
- initialise samples
- tracks rendering needs to return n, tracks
- remove slicetemp
- pattern initialisation
- slice model 
  - seed, style, samples
- move render_xxx into tracks, lfos
- track patterns and offsets
- merge machines into track and lfo
- relationship between sequencer/lfo Objects and the config items that are used to instantiate them
- lfo json needs to include type and args (range, intervals)
- name parameters when you have long lists
- rename/remove vitling generator
- move lfos from slices to tracks
- abstract vitling beats into common vitling909 module
- zero ctrl values not being rendered
- rename machines as sequencers
- eliminate lfo offsets
- eliminate pattern code from slice rendering
- replace hardcoded instrument lists with config refs
- second feedback lfo
- define lfo mod, controller in config
- separate machine kwargs code at slice level
- remove lfo style
- remove lfo array support
- wet changes not being rendered
- convert append/expand into dual decorator strategy
- list, array support
- revert renderinfo
- env and pool to share common base with abbreviation lookup
- reduce default temperatures
- rename samples as poolname
- add poolname abbreviation matching
- replace enum support with string
  - special setparam code to validate pools
- cli variable to list pools
- make nbeats an environment variable
- move banks into /octavox/banks/pico where they can be shared
  - Banks class also
- pass banks and pool to model
- cli to initialise pools
- cli poolname variable
- banks function to return file handle for bankname/wavfile
- pools.trim to reject anything too small
- pools.spawn_free/curated to add global pools
- remove cli profile variable
- curation script
- remove s3 stuff
- download into local banks directory with unchanged names
- rename slicebeats as picobeats
- remove save
- insert nbreaks automatically but for chain only
  - remove parameter
- define instruments and solos
- chainer to force samples to be the same as mute
- saving
- chainer with mutes
- refactor breaks so they are not voids
- complete load function
- add breaks variable
- add bool support
- simplify os.makedirs
- don't store self.filenmae
- remove pico- prefix from saved s3 files
  - test upload/download again
- include generator in filename
- remove stack
- fix need to remove pico- when downloading sample files
- save patches to json
- remove blender
- maintain internal stack of patches
